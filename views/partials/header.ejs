<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link rel="stylesheet" href="/styles.css" />
</head>

<body>
    <header>
  <a href="/" class="nav-link site-title-link">
    <h1>Message Board</h1>
  </a>

  <div class="nav-wrapper">
    <% if (currentUser) { %>
      <p class="welcome-text">Welcome, <%= currentUser.full_name %></p>
    <% } else { %>
      <p class="welcome-text">&nbsp;</p> <!-- keeps space consistent -->
    <% } %>

    <nav>
      <% if (currentUser) { %>
        <a class="nav-link border nav-btn" href="/log-out">Log-out</a>

        <% if (currentUser.is_member) { %>
          <button class="leave-club-button border nav-btn" onclick="openModal()">Leave Club</button>

          <div id="leaveModal" class="modal hidden">
            <div class="modal-content">
              <p>Are you sure you want to leave the club?</p>
              <form action="/leave-club" method="POST">
                <button type="submit" class="confirm-button">Yes, Leave</button>
                <button type="button" class="cancel-button" onclick="closeModal()">Cancel</button>
              </form>
            </div>
          </div>
        <% } else { %>
          <a class="nav-link border nav-btn" href="/become-member">Become a Member</a>
        <% } %>
      <% } else { %>
        <a class="nav-link border nav-btn" href="/log-in">Log-in</a>
        <a class="nav-link border nav-btn" href="/sign-up">Register</a>
      <% } %>
    </nav>
  </div>
</header>

    <main>